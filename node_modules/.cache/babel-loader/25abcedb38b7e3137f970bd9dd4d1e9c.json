{"ast":null,"code":"import Vuex from 'vuex'; // store存储\n\nexport default Vuex.createStore({\n  state: {\n    cartList: {\n      // 第一层级是商铺的 id\n      1: {\n        // 第二层是商品内容及购物数量\n        111: {\n          _id: '1',\n          name: '番茄250g/份',\n          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n          sales: 10,\n          price: 33.6,\n          oldPrice: 39.6,\n          count: 2\n        },\n        222: {}\n      },\n      2: {}\n    }\n  },\n  mutations: {\n    changeItemToCart(state, payload) {\n      const {\n        shopId,\n        productId,\n        productInfo,\n        num\n      } = payload;\n      let shopInfo = state.cartList[shopId];\n\n      if (!shopInfo) {\n        shopInfo = {};\n      }\n\n      let product = shopInfo[productId];\n\n      if (!product) {\n        product = productInfo;\n        product.count = 0;\n      }\n\n      product.count = product.count + num;\n\n      if (product.count < 0) {\n        product.count = 0;\n      }\n\n      shopInfo[productId] = product;\n      state.cartList[shopId] = shopInfo;\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["Vuex","createStore","state","cartList","_id","name","imgUrl","sales","price","oldPrice","count","mutations","changeItemToCart","payload","shopId","productId","productInfo","num","shopInfo","product","actions","modules"],"sources":["D:/StudySoft/VSCode/VSCodeFile/CODE_前端projects/fangjingdong-mall_project/src/store/index.js"],"sourcesContent":["import Vuex from 'vuex'\r\n\r\n// store存储\r\nexport default Vuex.createStore({\r\n  state: {\r\n    cartList: {\r\n      // 第一层级是商铺的 id\r\n      1: {\r\n        // 第二层是商品内容及购物数量\r\n        111: {\r\n          _id: '1',\r\n          name: '番茄250g/份',\r\n          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\r\n          sales: 10,\r\n          price: 33.6,\r\n          oldPrice: 39.6,\r\n          count: 2\r\n        },\r\n        222: {\r\n        \r\n        }\r\n      },\r\n      2: {\r\n      \r\n      }\r\n    }\r\n  },\r\n  mutations: {\r\n    changeItemToCart (state, payload) {\r\n          const { shopId, productId, productInfo, num } = payload\r\n          let shopInfo = state.cartList[shopId]\r\n          if (!shopInfo) {\r\n            shopInfo = {}\r\n          }\r\n          let product = shopInfo[productId]\r\n          if (!product) {\r\n            product = productInfo\r\n            product.count = 0\r\n          }\r\n          product.count = product.count + num\r\n          if (product.count < 0) { product.count = 0 }\r\n          shopInfo[productId] = product\r\n          state.cartList[shopId] = shopInfo\r\n    }\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB,C,CAEA;;AACA,eAAeA,IAAI,CAACC,WAAL,CAAiB;EAC9BC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACR;MACA,GAAG;QACD;QACA,KAAK;UACHC,GAAG,EAAE,GADF;UAEHC,IAAI,EAAE,UAFH;UAGHC,MAAM,EAAE,8CAHL;UAIHC,KAAK,EAAE,EAJJ;UAKHC,KAAK,EAAE,IALJ;UAMHC,QAAQ,EAAE,IANP;UAOHC,KAAK,EAAE;QAPJ,CAFJ;QAWD,KAAK;MAXJ,CAFK;MAiBR,GAAG;IAjBK;EADL,CADuB;EAwB9BC,SAAS,EAAE;IACTC,gBAAgB,CAAEV,KAAF,EAASW,OAAT,EAAkB;MAC5B,MAAM;QAAEC,MAAF;QAAUC,SAAV;QAAqBC,WAArB;QAAkCC;MAAlC,IAA0CJ,OAAhD;MACA,IAAIK,QAAQ,GAAGhB,KAAK,CAACC,QAAN,CAAeW,MAAf,CAAf;;MACA,IAAI,CAACI,QAAL,EAAe;QACbA,QAAQ,GAAG,EAAX;MACD;;MACD,IAAIC,OAAO,GAAGD,QAAQ,CAACH,SAAD,CAAtB;;MACA,IAAI,CAACI,OAAL,EAAc;QACZA,OAAO,GAAGH,WAAV;QACAG,OAAO,CAACT,KAAR,GAAgB,CAAhB;MACD;;MACDS,OAAO,CAACT,KAAR,GAAgBS,OAAO,CAACT,KAAR,GAAgBO,GAAhC;;MACA,IAAIE,OAAO,CAACT,KAAR,GAAgB,CAApB,EAAuB;QAAES,OAAO,CAACT,KAAR,GAAgB,CAAhB;MAAmB;;MAC5CQ,QAAQ,CAACH,SAAD,CAAR,GAAsBI,OAAtB;MACAjB,KAAK,CAACC,QAAN,CAAeW,MAAf,IAAyBI,QAAzB;IACL;;EAhBQ,CAxBmB;EA0C9BE,OAAO,EAAE,EA1CqB;EA4C9BC,OAAO,EAAE;AA5CqB,CAAjB,CAAf"},"metadata":{},"sourceType":"module"}