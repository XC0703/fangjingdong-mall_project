{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4fcd8b1a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"header__info\"\n};\nconst _hoisted_4 = {\n  class: \"header__info__user\"\n};\nconst _hoisted_5 = {\n  class: \"header__info__id\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"header__avatar\",\n  src: \"http://www.dell-lee.com/imgs/avatar.jpg\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  class: \"list\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"list__item__icon iconfont\"\n}, \"\", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"list__item__test\"\n}, \"我的地址\", -1\n/* HOISTED */\n));\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"list__item__arrow iconfont\"\n}, \"\", -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = [_hoisted_8, _hoisted_9, _hoisted_10];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FooTer = _resolveComponent(\"FooTer\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.userInfo.username), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_5, \"ID:\" + _toDisplayString($setup.userInfo._id), 1\n  /* TEXT */\n  )]), _hoisted_6]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n    class: \"list__item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.handleAddressClick && $setup.handleAddressClick(...args))\n  }, _hoisted_11)]), _createElementVNode(\"div\", {\n    class: \"logout\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.handleLogout && $setup.handleLogout(...args))\n  }, \"退出登陆\")]), _createVNode(_component_FooTer, {\n    currentIndex: 3\n  })], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;gEAEbC,oBAGE,KAHF,EAGE;EAFAD,KAAK,EAAC,gBAEN;EADAE,GAAG,EAAC;AACJ,CAHF;;AAAA;;;EAKGF,KAAK,EAAC;;;gEAEPC,oBAAqD,KAArD,EAAqD;EAAhDD,KAAK,EAAC;AAA0C,CAArD,EAAuC,GAAvC,EAA+C;AAAA;AAA/C;;gEACAC,oBAAwC,KAAxC,EAAwC;EAAnCD,KAAK,EAAC;AAA6B,CAAxC,EAA8B,MAA9B,EAAkC;AAAA;AAAlC;;iEACAC,oBAAsD,KAAtD,EAAsD;EAAjDD,KAAK,EAAC;AAA2C,CAAtD,EAAwC,GAAxC,EAAgD;AAAA;AAAhD;;qBAFAG,YACAC,YACAC;;;;6DAfNJ,oBAmBM,KAnBN,cAmBM,CAlBJA,oBASM,KATN,cASM,CARJA,oBAGM,KAHN,cAGM,CAFJA,oBAA2D,KAA3D,cAA2DK,iBAAzBC,gBAASC,QAAgB,CAA3D,EAAmD;EAAA;EAAnD,CAEI,EADJP,oBAAuD,KAAvD,cAA8B,QAAGK,iBAAEC,gBAASE,GAAX,CAAjC,EAA+C;EAAA;EAA/C,CACI,CAHN,CAQI,EAJJC,UAII,CATN,CAkBI,EARJT,oBAMM,KANN,cAMM,CALJA,oBAIM,KAJN,EAIM;IAJDD,KAAK,EAAC,YAIL;IAJmBW,OAAK,yCAAEJ,+DAAF;EAIxB,CAJN,cAKI,CANN,CAQI,EADJN,oBAAoD,KAApD,EAAoD;IAA/CD,KAAK,EAAC,QAAyC;IAA/BW,OAAK,yCAAEJ,mDAAF;EAA0B,CAApD,EAA0C,MAA1C,CACI,CAnBN,GAoBAK,aAA2BC,iBAA3B,EAA2B;IAAlBC,YAAY,EAAE;EAAI,CAA3B","names":["class","_createElementVNode","src","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","$setup","username","_id","_hoisted_6","onClick","_createVNode","_component_FooTer","currentIndex"],"sourceRoot":"","sources":["D:\\StudySoft\\VSCode\\VSCodeFile\\CODE_前端projects\\fangjingdong-mall_project\\src\\views\\personal\\PersonalInfo.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"header\">\r\n      <div class=\"header__info\">\r\n        <div class=\"header__info__user\">{{userInfo.username}}</div>\r\n        <div class=\"header__info__id\">ID:{{userInfo._id}}</div>\r\n      </div>\r\n      <img\r\n        class=\"header__avatar\"\r\n        src=\"http://www.dell-lee.com/imgs/avatar.jpg\"\r\n      />\r\n    </div>\r\n    <div class=\"list\">\r\n      <div class=\"list__item\" @click=\"handleAddressClick\">\r\n        <div class=\"list__item__icon iconfont\">&#xe617;</div>\r\n        <div class=\"list__item__test\">我的地址</div>\r\n        <div class=\"list__item__arrow iconfont\">&#xe6f2;</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"logout\" @click=\"handleLogout\">退出登陆</div>\r\n  </div>\r\n  <FooTer :currentIndex=\"3\"/>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { get } from '../../utils/request'\r\nimport FooTer from '../../components/FooTer'\r\n\r\nconst useUserEffect = () => {\r\n  const userInfo = reactive({ _id: '', username: '' })\r\n   const getUserInfo = async () => {\r\n    const result = await get('/api/user/info')\r\n    if(result?.errno === 0 && result?.data) {\r\n      const { _id, username } = result.data\r\n      userInfo._id = _id || ''\r\n      userInfo.username = username || ''\r\n    }\r\n  }\r\n  getUserInfo()\r\n  return userInfo\r\n}\r\n\r\nexport default {\r\n  name: 'PersonalInfo',\r\n  components: { FooTer },\r\n  setup() {\r\n    const router = useRouter()\r\n    const handleLogout = () => {\r\n      localStorage.removeItem('isLogin')\r\n      router.replace({ name: 'Login'})\r\n    }\r\n    const handleAddressClick = () => {\r\n      router.push({ name: 'MyAddressList'})\r\n    }\r\n    const userInfo = useUserEffect()\r\n    return { handleLogout, handleAddressClick, userInfo }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: .5rem;\r\n  right: 0;\r\n  background: $dark-bgColor;\r\n}\r\n.header {\r\n  position: relative;\r\n  height: 1.5rem;\r\n  background-image: linear-gradient(239deg, #3A6FF3 0%, #50C7FB 100%);\r\n  padding-top: .4rem;\r\n  &__info {\r\n    margin: .3rem .18rem 0 .18rem;\r\n    padding-top: .46rem;\r\n    height: .66rem;\r\n    background: #FFF;\r\n    border-radius: .08rem;\r\n    &__user {\r\n      font-size: .24rem;\r\n      color: #262628;\r\n      text-align: center;\r\n      line-height: .36rem;\r\n    }\r\n    &__id {\r\n      margin-top: .04rem;\r\n      font-size: .14rem;\r\n      color: #C1C0C9;\r\n      text-align: center;\r\n    }\r\n  }\r\n  &__avatar {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: .2rem;\r\n    transform: translateX(-50%);\r\n    width: .94rem;\r\n    height: .94rem;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n.list {\r\n  margin: .16rem .18rem 0 .18rem;\r\n  background: $bgColor;\r\n  box-shadow: 0 .08rem .16rem 0 rgba(0, 0, 0, .08);\r\n  border-radius: .08rem;\r\n  &__item {\r\n    display: flex;\r\n    padding: .2rem;\r\n    line-height: .22rem;\r\n    font-size: .14rem;\r\n    color: #262626;\r\n    &__icon {\r\n      margin-right: .12rem;\r\n      width: .22rem;\r\n      height: .22rem;\r\n      background: #32C5FF;\r\n      border-radius: .08rem;\r\n      text-align: center;\r\n      font-weight: bold;\r\n      color: $bgColor;\r\n    }\r\n    &__test {\r\n      flex: 1;\r\n    }\r\n    &__arrow {\r\n      width: .2rem;\r\n      transform: rotate(180deg);\r\n      font-weight: bold;\r\n      color: #C2C4CA;\r\n    }\r\n  }\r\n}\r\n.logout {\r\n  margin: .18rem;\r\n  line-height: .32rem;\r\n  background: $btn-bgcolor;\r\n  color: $bgColor;\r\n  text-align: center;\r\n  border-radius: .04rem;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}