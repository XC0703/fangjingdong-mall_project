{"ast":null,"code":"import { useStore } from 'vuex';\nimport { get } from '../utils/request';\n\nconst useCommonAddressEffect = () => {\n  const store = useStore();\n\n  const getAddressList = async forceUpdate => {\n    const addressList = store.state.addressList;\n\n    if (forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address');\n\n      if (result?.data?.length) {\n        store.commit('changeAddressList', result.data);\n      }\n    }\n  };\n\n  return {\n    getAddressList\n  };\n};\n\nexport default useCommonAddressEffect;","map":{"version":3,"names":["useStore","get","useCommonAddressEffect","store","getAddressList","forceUpdate","addressList","state","length","result","data","commit"],"sources":["D:/StudySoft/VSCode/VSCodeFile/CODE_前端projects/fangjingdong-mall_project/src/effects/addressEffect.js"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { get } from '../utils/request'\r\n\r\nconst useCommonAddressEffect = () => {\r\n  const store = useStore()\r\n\r\n  const getAddressList = async (forceUpdate) => {\r\n    const addressList = store.state.addressList;\r\n    if(forceUpdate || !addressList.length) {\r\n      const result = await get('/api/user/address')\r\n      if(result?.data?.length) {\r\n        store.commit('changeAddressList', result.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  return { getAddressList }\r\n}\r\n\r\nexport default useCommonAddressEffect"],"mappings":"AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,GAAT,QAAoB,kBAApB;;AAEA,MAAMC,sBAAsB,GAAG,MAAM;EACnC,MAAMC,KAAK,GAAGH,QAAQ,EAAtB;;EAEA,MAAMI,cAAc,GAAG,MAAOC,WAAP,IAAuB;IAC5C,MAAMC,WAAW,GAAGH,KAAK,CAACI,KAAN,CAAYD,WAAhC;;IACA,IAAGD,WAAW,IAAI,CAACC,WAAW,CAACE,MAA/B,EAAuC;MACrC,MAAMC,MAAM,GAAG,MAAMR,GAAG,CAAC,mBAAD,CAAxB;;MACA,IAAGQ,MAAM,EAAEC,IAAR,EAAcF,MAAjB,EAAyB;QACvBL,KAAK,CAACQ,MAAN,CAAa,mBAAb,EAAkCF,MAAM,CAACC,IAAzC;MACD;IACF;EACF,CARD;;EAUA,OAAO;IAAEN;EAAF,CAAP;AACD,CAdD;;AAgBA,eAAeF,sBAAf"},"metadata":{},"sourceType":"module"}